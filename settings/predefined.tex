
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%                DO NOT CHANGE THIS FILE                  %%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%-----------------------------------------------------------------------------------------------%
%                               Page margins
%-----------------------------------------------------------------------------------------------%

\def\leftmarginpage{1.5in}
\def\rightmarginpage{1in}
\def\topmarginpage{1in}
\def\bottommarginpage{1in}




%-----------------------------------------------------------------------------------------------%
%                               Include packages here
%-----------------------------------------------------------------------------------------------%

\usepackage{hyperref}

%\usepackage{mathptmx}% For cosest font to times new roman

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[protrusion=true,expansion=true]{microtype}% lsstyle --- for nicer typography %http://web.willbenton.com/writing/2008/better-latex

\usepackage[left=\leftmarginpage,right=\rightmarginpage,top=\topmarginpage,bottom=\bottommarginpage]{geometry}
\usepackage{fancyhdr}
\usepackage{lastpage}

\usepackage[english]{babel}


\usepackage{booktabs}% For tables
\usepackage{float}% For \floatstyle{plaintop} and \restylefloat{table} to put table captions on the top
\usepackage{caption}% For \captionsetup[table]{skip=10pt}


\usepackage{cleveref}% For \Cref and \cref etc.. Must be loaded after hyperref

\usepackage{ragged2e}% For     \justifying the text
\usepackage{setspace} % Using \doublespacing in the preamble changes text to double line spacing

% http://www.tex.ac.uk/cgi-bin/texfaq2html?label=tocloftwrong
\usepackage[subfigure]{tocloft} % user-level commands that may be used to change the TOC formatting. e.g., adjust space for numbering in case of deep nesting.
\usepackage{subfigure}% Required for above package

\usepackage{titlesec,,titlecaps}% Custumize chpater section titles e.g. \titleformat
\usepackage{titletoc} % For \titlecontents
\usepackage[toc,page]{appendix}

\usepackage[hyperpageref]{backref}% add pages in references where the reference is cited.

\usepackage{xcolor}

\usepackage{lipsum}% For random text (Lorem ipsum) with \lipsum command


\usepackage{tikz}
\usetikzlibrary{decorations.text}

%-----------------------------------------------------------------------------------------------%
%                               Initial page styles
%-----------------------------------------------------------------------------------------------%

\makeatletter
\renewcommand{\@pnumwidth}{2em}
\makeatother


\newcommand{\makeheading}[1]{
     \pagestyle{frontPagesStyle}
     \vspace{10cm}
     \flushleft\Huge{\bfseries\MakeUppercase#1}
     \vspace{3mm}
     \color{black!80}
     \hrule
     \vspace{0.3mm}
     \hrule
     \addcontentsline{toc}{chapter}{\titlecap{#1}}
     \normalsize
     \vspace{1cm}
     \justifying
     \thesisLineSpacing
     \color{black}
}


%-----------------------------------------------------------------------------------------------%
%                               Chapter and section title styles
%-----------------------------------------------------------------------------------------------%

\Addlcwords{to of in it if and what where when who why which with the then that this than is not the many but}% Ignore in capitalize

\titleformat{\chapter}[display]
  {}%No format
  {    
     \vspace{-2em}
     \fontsize{25}{30}\selectfont
     \flushright{\bfseries\MakeUppercase{\chaptertitlename}}\hspace{1ex}%
     {\color{black!60}\fontsize{120}{144}\selectfont\thechapter}
     \vspace{1em}
     \color{black!80}
     \hrule
     \vspace{0.3mm}
     \hrule
   }%
  {-1em}%
  {\fontsize{22}{26.4}\selectfont\bfseries\titlecap}% code preceding the title
  [\color{black}] % optional code following the title body
  

 % Below "\section" can be replaced with "\subsection" and "\subsubsection"
% in order to customize the corresponding headings

%% Heading 1 should be 16 in size and Bold
%%----------------------------------------------------------------------------------------------
\titleformat{\section}[hang]
    {}%No format
    {} % No label
    {0em} % horizontal separation between label and title body
    {\hspace{-0.4pt}\fontsize{16}{18}\selectfont\bfseries\thesection\hspace{0.8em} \lsstyle\MakeUppercase}% code preceding the title
    [] % optional code following the title body


%% Heading 2 should be 14 in size and Bold
%%----------------------------------------------------------------------------------------------
\titleformat{\subsection}[hang]
    {}%No format
    {} % No label
    {0em} % horizontal separation between label and title body
    {\hspace{-0.4pt}\fontsize{16}{18}\bfseries\thesubsection\hspace{1em} \titlecap}% code preceding the title
    [] % optional code following the title body

%% Heading 3 should be 14 in size and Bold
%%----------------------------------------------------------------------------------------------
\titleformat{\subsubsection}[hang]
    {}%No format
    {} % No label
    {0em} % horizontal separation between label and title body
    {\hspace{-0.4pt}\fontsize{12}{14.4}\bfseries\thesubsubsection\hspace{1em} \titlecap} % code preceding the title
    [] % optional code following the title body


%% titletoc package
\titlecontents{chapter}[0.25\linewidth] % Indentation
  {\addvspace{10pt}} % Spacing options for chapters
  {\contentslabel[\scshape\normalsize\bfseries\MakeUppercase\chaptername ~\large\thecontentslabel]{35mm}\bfseries} % Chapter number
  {\hspace{-3.5cm}}%Chapters without numbers
  {\normalsize\titlerule*[5pt]{.}\bfseries\contentspage} % Page number
  
 % Format Chapter as an appendix
\newcommand{\appendixformat}{
\titlecontents{chapter}[0.25\linewidth] % Indentation
  {\addvspace{10pt}} % Spacing options for chapters
  {\contentslabel[\scshape\large\bfseries\MakeUppercase Appendix~\large\thecontentslabel]{35mm}\bfseries} % Chapter number
  {\hspace{-3.5cm}}%Chapters without numbers
  {\normalsize\titlerule*[5pt]{.}\bfseries\contentspage} % Page number
}
  
 \titlecontents{section}[0.1\linewidth] % Indentation
  {\addvspace{5pt}} % Spacing options for sections
  {\contentslabel[\large\thecontentslabel]{10mm}} % Section number
  {}%Sections without numbers
  {\normalsize\titlerule*[3pt]{.}\bfseries\contentspage} % Page number

 \titlecontents{subsection}[0.2\linewidth] % Indentation
  {\addvspace{4pt}} % Spacing options for sections
  {\contentslabel[\small\thecontentslabel]{15mm}\small} % Section number
  {}%Sections without numbers
  {\normalsize\titlerule*[2pt]{.}\bfseries\contentspage} % Page number


%% tocloft package
\renewcommand{\cfttoctitlefont} % ToC title
             {\Huge\bfseries\MakeUppercase}
\renewcommand{\cftchapfont} % chapter titles
             {\Large\scshape\bfseries}
\renewcommand{\cftsecfont} % section titles
             {\normalsize}
\renewcommand{\cftsubsecfont} % subsection titles
             {\normalsize}
\renewcommand{\cftchappagefont} % chapter page numbers
             {\normalsize\bfseries}
\renewcommand{\cftsecpagefont} % section page numbers
             {\cftsecfont} 
\renewcommand{\cftsubsecpagefont} % subsection page numbers
             {\cftsubsecfont}


%-----------------------------------------------------------------------------------------------%
%                               Table caption above the table
%-----------------------------------------------------------------------------------------------%

\floatstyle{plaintop}
\restylefloat{table}
\captionsetup[table]{skip=10pt}% 10pt space between table caption and table

%-----------------------------------------------------------------------------------------------%
%                               Page styles
%-----------------------------------------------------------------------------------------------%

\def\thesisLineSpacing{\onehalfspacing}%Paragraphs should be size 12 with 1.5-line spacing.

\fancypagestyle{frontPagesStyle}{
    \fancypagestyle{plain}{
        \fancyhf{}
        \fancyhead{}
        \fancyfoot{}
        \rfoot{\small \sf Page \thepage}
        \renewcommand{\headrulewidth}{0pt}
        \renewcommand{\footrulewidth}{0pt}
    }
    \fancyhf{}
    \fancyfoot{}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
    \rfoot{\small \sf Page \thepage}
    \singlespacing
}


\fancypagestyle{mainStyle}{
    \fancypagestyle{plain}{
        \fancyhf{}
        \fancyhead{}
        \fancyfoot{}
        \rfoot{\small \sf Page \thepage~of \pageref{LastPage}}
        \renewcommand{\headrulewidth}{0pt}
        \renewcommand{\footrulewidth}{0pt}
    }
    
    \fancyhf{}
    \fancyfoot{}

    \lhead{\tiny \sf \leftmark \vspace{0.5em}\color{black!50}\hrule}
    \rfoot{\small \sf Page \thepage~of \pageref{LastPage}}
    \fontfamily{qpl}\selectfont
    \justifying
    \thesisLineSpacing
    \setlength{\parskip}{1ex}
    \normalsize
}

\hypersetup{
    pdfborder={0 0 0},
    bookmarksopen=true,%
    bookmarksnumbered=true,%
    pdfpagemode=UseOutlines,%
    breaklinks=true,%
%
    pdftitle={\thesisTitle},% title
    pdfauthor={\thesisAuthor},% author
    pdfsubject={PhD thesis produced at \university, Pakistan using the template https://github.com/glaghari/usindh-thesis-template},% subject of the document
}

%-----------------------------------------------------------------------------------------------%
%                               References
%-----------------------------------------------------------------------------------------------%


% Add pages in references where the reference is cited.
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
    \ifcase #1 (Not cited).%
    \or        (Cited on page~#2).%
    \else      (Cited on pages~#2).%
    \fi
}
